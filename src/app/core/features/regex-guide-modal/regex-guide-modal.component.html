<mat-horizontal-stepper linear #stepper>
  <!-- Passo 1: Introdu√ß√£o -->
  <mat-step [stepControl]="introForm">
    <form [formGroup]="introForm">
      <ng-template matStepLabel></ng-template>
      <h2>Bem-vindo ao Guia Interativo de Regex</h2>
      <p>
        Este guia foi criado para te ajudar a entender o b√°sico de Express√µes Regulares (Regex) e como usar esta ferramenta para simplificar suas tarefas de valida√ß√£o de dados.
      </p>
      <p>
        Vamos come√ßar?
      </p>
      <mat-checkbox formControlName="understandIntro">Entendi e quero come√ßar</mat-checkbox>
      <div class="step-buttons">
        <button mat-button matStepperNext [disabled]="!introForm.valid">
          Pr√≥ximo
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Passo 2: O que √© Regex? -->
  <mat-step [stepControl]="oQueEForm">
    <form [formGroup]="oQueEForm">
      <ng-template matStepLabel></ng-template>
      <h2>O que √© Regex?</h2>
      <p>
        Uma Regex √© como um padr√£o de busca super poderoso. Em vez de procurar por uma palavra exata, voc√™ cria um padr√£o flex√≠vel que pode encontrar v√°rias combina√ß√µes de caracteres.
      </p>
      <p>
        √â muito usado para:
      </p>
      <ul>
        <li>- Validar se um e-mail tem o formato correto.</li>
        <li>- Encontrar todos os n√∫meros de telefone em um texto.</li>
        <li>- Substituir padr√µes em um c√≥digo.</li>
      </ul>
      <mat-checkbox formControlName="understoodConcept">Entendi o conceito</mat-checkbox>
      <div class="step-buttons">
        <button mat-button matStepperPrevious>Voltar</button>
        <button mat-button matStepperNext [disabled]="!oQueEForm.valid">
          Pr√≥ximo
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Passo 3: Lendo Regex (Sintaxe B√°sica) -->
  <mat-step [stepControl]="lendoRegexForm">
    <form [formGroup]="lendoRegexForm">
      <ng-template matStepLabel></ng-template>
      <h2>Lendo uma Regex</h2>
      <p>Cada caractere ou grupo de caracteres tem um significado. Vamos ver os mais comuns:</p>
      <ul>
        <li *ngFor="let item of syntaxGuide">
          <code>{{ item.pattern }}</code>: {{ item.description }}
        </li>
      </ul>
      <mat-checkbox formControlName="understoodReading">Entendi a sintaxe b√°sica</mat-checkbox>
      <div class="step-buttons">
        <button mat-button matStepperPrevious>Voltar</button>
        <button mat-button matStepperNext [disabled]="!lendoRegexForm.valid">
          Pr√≥ximo
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Passo 4: Quantificadores -->
  <mat-step [stepControl]="quantificadoresForm">
    <form [formGroup]="quantificadoresForm">
      <ng-template matStepLabel></ng-template>
      <h2>Quantificadores</h2>
      <p>Eles indicam quantas vezes um caractere ou grupo pode aparecer:</p>
      <ul>
        <li *ngFor="let item of quantifierGuide">
          <code>{{ item.pattern }}</code>: {{ item.description }}
        </li>
      </ul>
      <mat-checkbox formControlName="understoodQuantifiers">Entendi os quantificadores</mat-checkbox>
      <div class="step-buttons">
        <button mat-button matStepperPrevious>Voltar</button>
        <button mat-button matStepperNext [disabled]="!quantificadoresForm.valid">
          Pr√≥ximo
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Passo 5: O Gerador -->
  <mat-step [stepControl]="geradorForm">
    <form [formGroup]="geradorForm">
      <ng-template matStepLabel></ng-template>
      <h2>Usando o Gerador</h2>
      <p>
        Agora que voc√™ entende o b√°sico, use a se√ß√£o Gerador Guiado na tela principal para criar regex.
        Basta selecionar uma das op√ß√µes (e-mail, CPF, etc.) e a ferramenta gerar√° o padr√£o para voc√™.
      </p>
      <p>
        Observe a regex gerada e a explica√ß√£o detalhada. Tente ler e entender cada parte dela usando o que voc√™ aprendeu.
      </p>
      <mat-checkbox formControlName="understoodGenerator">Entendi como usar o Gerador</mat-checkbox>
      <div class="step-buttons">
        <button mat-button matStepperPrevious>Voltar</button>
        <button mat-button matStepperNext [disabled]="!geradorForm.valid">
          Pr√≥ximo
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Passo 6: O Testador -->
  <mat-step [stepControl]="testadorForm">
    <form [formGroup]="testadorForm">
      <ng-template matStepLabel></ng-template>
      <h2>Usando o Testador</h2>
      <p>
        Depois de gerar sua regex, a se√ß√£o Testador √© onde a m√°gica acontece. Cole qualquer texto na √°rea de texto e a ferramenta ir√° validar se ele corresponde ou n√£o ao padr√£o.
      </p>
      <p>
        Voc√™ pode ver se o texto √© v√°lido (‚úÖ), tem correspond√™ncias (üîç) ou se √© totalmente inv√°lido (‚ùå).
      </p>
      <mat-checkbox formControlName="understoodTester">Entendi como usar o Testador</mat-checkbox>
      <div class="step-buttons">
        <button mat-button matStepperPrevious>Voltar</button>
        <button mat-button matStepperNext [disabled]="!testadorForm.valid">
          Pr√≥ximo
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Passo 7: Pr√°tica -->
  <mat-step [stepControl]="praticaForm">
    <form [formGroup]="praticaForm">
      <ng-template matStepLabel></ng-template>
      <h2>Pr√°tica</h2>
      <p>Tente digitar algo que combine com esta regex de e-mail:</p>
      <p>
        <strong>Regex de e-mail:</strong> <code>{{ emailRegex }}</code>
      </p>
      <mat-form-field appearance="fill">
        <mat-label>Digite um e-mail</mat-label>
        <input matInput formControlName="practiceAnswer" placeholder="exemplo@dominio.com" />
        <mat-error *ngIf="praticaForm.get('practiceAnswer')?.invalid">Formato de e-mail inv√°lido</mat-error>
      </mat-form-field>
      <div class="feedback">
        <span *ngIf="praticaForm.valid">
          Resultado:
          <strong *ngIf="checkPractice(); else wrong">Correto ‚úîÔ∏è</strong>
          <ng-template #wrong>
            <span style="color: red">N√£o corresponde ‚ùå</span>
          </ng-template>
        </span>
      </div>
      <div class="step-buttons">
        <button mat-button matStepperPrevious>Voltar</button>
        <button mat-button (click)="closeModal()" [disabled]="!checkPractice()">
          Finalizar
        </button>
      </div>
    </form>
  </mat-step>
</mat-horizontal-stepper>