<app-onboarding-modal *ngIf="showOnboarding" (closed)="showOnboarding = false"></app-onboarding-modal>

<div class="container">
  <header>
    <h1>Calculadora e Gerador de Regex</h1>
    <p>Ferramenta simples para iniciantes em Expressões Regulares.</p>
  </header>

  <app-ad-banner imageUrl="https://via.placeholder.com/1200x200.png?text=Anuncio+Topo" linkUrl="https://google.com" altText="Anúncio principal"></app-ad-banner>

  <main class="main-grid">
    <section class="section">
      <h2>1. Gerador Guiado</h2>
      <p>Escolha um padrão para gerar a sua regex.</p>
      <div class="options-container">
        <button class="btn" (click)="generateEmailRegex()">
          <lucide-icon name="mail" class="icon"></lucide-icon>
          E-mail
        </button>
      </div>
    </section>

    <section class="section">
      <h2>2. Regex Gerada</h2>
      <app-regex-display [regex]="generatedRegex"></app-regex-display>
      
      <h3>Explicação</h3>
      <div class="regex-explainer-container">
        @for (part of regexParts; track $index) {
          <div class="regex-part">
            <span class="pattern">{{ part.pattern }}</span>
            <span class="explanation">{{ part.explanation }}</span>
          </div>
        }
      </div>
    </section>

    <section class="section">
      <h2>3. Testador</h2>
      <p>Cole o texto que você quer testar.</p>
      <textarea 
        [(ngModel)]="testText" 
        (ngModelChange)="validateText()"
        placeholder="Cole seu texto aqui..."
        class="text-area">
      </textarea>
      <app-alert [message]="feedbackMessage" [type]="feedbackType"></app-alert>
    </section>
  </main>
  
  <app-ad-banner imageUrl="https://via.placeholder.com/1200x200.png?text=Anuncio+Final" linkUrl="https://google.com" altText="Anúncio rodapé"></app-ad-banner>
</div>